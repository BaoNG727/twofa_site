{% extends "base.html" %}
{% load static %}

{% block title %}Tạo chủ đề mới{% endblock %}

{% block content %}
<div class="glass-card">
    <div class="card-header">Tạo chủ đề mới</div>
    <div class="card-desc">
        Hãy chọn chuyên mục và nhập tiêu đề. Sau khi tạo xong bạn sẽ được chuyển đến trang thảo luận.
    </div>

    <form method="post" action="{% url 'forum:thread_create' %}">
        {% csrf_token %}

        <div class="form-group">
            <label class="form-label">Chuyên mục</label>
            {{ form.category }}
            {% if form.category.errors %}
                <div class="form-error">{{ form.category.errors.0 }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            <label class="form-label">Tiêu đề</label>
            {{ form.title }}
            {% if form.title.errors %}
                <div class="form-error">{{ form.title.errors.0 }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            <label class="form-label">Nội dung</label>
            {{ form.content }}
            {% if form.content.errors %}
                <div class="form-error">{{ form.content.errors.0 }}</div>
            {% endif %}
        </div>

        {% if form.non_field_errors %}
            <div class="form-error">{{ form.non_field_errors.0 }}</div>
        {% endif %}

        <div class="form-group" style="text-align:right;">
            <button class="btn-primary" type="submit">Đăng chủ đề</button>
        </div>
    </form>

    <div class="form-hint">
        Sau khi tạo xong bạn có thể trả lời trong thread đó giống diễn đàn.
    </div>
</div>

<script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
<script src="{% static 'js/tinymce-init.js' %}"></script>
{% endblock %}
